<!DOCTYPE html>
<html>
<head>
<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
</head>
<body>
    <h1>book register</h1>
    <form id="form-book">
        id:<input id="_id" required/><br>
        title:<input id="title" required/><br>
        price:<input id="price" required/><br>
        <button>regsiter</button>
    </form>
    <script>
    const url = `/books`
    
    $("#form-book").on('submit', event =>{
        event.preventDefault()
        const sendObject = {
            _id:$("#_id").val(),
            title:$("#title").val(),
            price:$("#price").val(),
        }

        $.post(url,sendObject).then(result=>{
            alert("book register success")
            location.href = "index.html"
        })
        .fail((xhr, status, error)=>{
            alert('book post ajax error.')
            console.error(error)
        })

    })
    </script>
</body>
</html>